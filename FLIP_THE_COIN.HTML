<!DOCTYPE html>
<html lang="fr-FR">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />
    <link rel="stylesheet" href="FLIP_THE_COIN.css">
    <title>Heads or Tails</title>
</head>

<body>
    <div class="container">
        <div class="imgs">
            <img class="face" src="https://dl.dropbox.com/s/egq9qqomnxtrc38/tail2.png?dl=0" alt="">
            <img class="back" src="https://dl.dropbox.com/s/njys8e0n32ho51a/back.png?dl=0" alt="">
        </div>
        <div class="scores">
            <span class="faceS"></span>
            <span class="backS"></span>
        </div>
        <div class="options">
            <button class="flip">Flip Coin</button>
            <button class="reset">Reset</button>
        </div>
    </div>
    <script>const flip = document.querySelector('.flip'),
    reset = document.querySelector('.reset');
const imgs = document.querySelector('.imgs');
const coin = new Audio("https://dl.dropbox.com/s/jatksxap32j6b9d/coin-drop.mp3?dl=0")

const faceS = document.querySelector('.faceS'),
    backS = document.querySelector('.backS');
let headS = tailS = 0;
initialisation();



flip.addEventListener("click", () => {
    let i = Math.floor(Math.random() * 2);
    imgs.style.animation = "none";
    setTimeout(coin.play(), 3000);


    if (i) {
        setTimeout(function() {
            imgs.style.animation = "spin-heads 4s forwards";
        }, 100);
        headS++;
    } else {
        setTimeout(function() {
            imgs.style.animation = "spin-tails 4s forwards";
        }, 100);
        tailS++;
    }
    setTimeout(updateStats, 3000);
    disableBtn();
})

reset.addEventListener("click", () => {
    headS = 0;
    tailS = 0;
    initialisation();
})



function initialisation() {
    faceS.innerHTML = `Heads: ${headS}`
    backS.innerHTML = `Tails: ${tailS}`
}

function updateStats() {
    faceS.innerHTML = `Heads: ${headS}`
    backS.innerHTML = `Tails: ${tailS}`
}

function disableBtn() {
    flip.disabled = true;
    setTimeout(function() {
        flip.disabled = false;
    }, 3000);
}</script>
</body>

</html>
